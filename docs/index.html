<!DOCTYPE html>
<html>
    <head lang='en'>
        <meta charset='UTF-8'>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <title>Es6 illuminated Demo</title>
    </head>

    <body>
        <main>
            <canvas id="screen" width=800 height=600></canvas>
        </main>
        <footer>
            <p>
                Built by
                <a href='https://github.com/carlwhittick'>Carl Whittick</a>.
            </p>
        </footer>
        <script src='/js/illuminated.js'></script>
        <script>
            const Vec2 = illuminated.Vec2
            const Lamp = illuminated.Lamp
            const DiscObject = illuminated.DiscObject
            const RectangleObject = illuminated.RectangleObject
            const Lighting = illuminated.Lighting

            var canvas = document.getElementById("screen")
            var ctx = canvas.getContext("2d")

            var light = new Lamp({
                position: new Vec2(200, 150),
                distance: 200
            })
            var disc = new DiscObject({
                center: new Vec2(100, 100),
                radius: 30
            })
            var rect = new RectangleObject({
                topleft: new Vec2(250, 200),
                bottomright: new Vec2(350, 250)
            })
            console.log("RECT", rect)
            var lighting = new Lighting({
                light: light,
                objects: [disc, rect]
            })
            lighting.compute(canvas.width, canvas.height)
            ctx.fillStyle = "black"
            ctx.fillRect(0, 0, canvas.width, canvas.height)
            lighting.render(ctx)
        </script>
    </body>
</html>